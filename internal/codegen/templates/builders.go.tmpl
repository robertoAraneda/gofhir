// Code generated by gofhir. DO NOT EDIT.
// Source: FHIR StructureDefinitions (builders)
// Package: {{.PackageName}}

package {{.PackageName}}

{{range .Resources}}
// =============================================================================
// {{.Name}} - Functional Options Pattern
// =============================================================================

// {{.Name}}Option is a functional option for configuring a {{.Name}}.
type {{.Name}}Option func(*{{.Name}})

// New{{.Name}} creates a new {{.Name}} with the given options.
func New{{.Name}}(opts ...{{.Name}}Option) *{{.Name}} {
	r := &{{.Name}}{}
	for _, opt := range opts {
		opt(r)
	}
	return r
}

{{range .Properties}}{{if not .IsChoice}}
// With{{$.Name}}{{.Name}} sets the {{.Name}} field.
func With{{$.Name}}{{.Name}}({{.OptionParam}}) {{$.Name}}Option {
	return func(r *{{$.Name}}) {
		{{.OptionBody}}
	}
}
{{end}}{{end}}

// =============================================================================
// {{.Name}} - Fluent Builder Pattern
// =============================================================================

// {{.Name}}Builder provides a fluent API for constructing {{.Name}} resources.
type {{.Name}}Builder struct {
	{{.LowerName}} *{{.Name}}
}

// New{{.Name}}Builder creates a new {{.Name}}Builder.
func New{{.Name}}Builder() *{{.Name}}Builder {
	return &{{.Name}}Builder{
		{{.LowerName}}: &{{.Name}}{},
	}
}

// Build returns the constructed {{.Name}} resource.
func (b *{{.Name}}Builder) Build() *{{.Name}} {
	return b.{{.LowerName}}
}

{{range .Properties}}{{if not .IsChoice}}
// {{.BuilderMethod}} {{.BuilderDoc}}
func (b *{{$.Name}}Builder) {{.BuilderMethod}}({{.BuilderParam}}) *{{$.Name}}Builder {
	{{.BuilderBody}}
	return b
}
{{end}}{{end}}
{{end}}
